#  allowTraversingTree = TRUE,
layoutAlgorithm = "squarified",
#levels = lvl_opts,
levels = list(
list(level = 1, dataLabels = list(enabled = TRUE), borderWidth = 4,
colorVariation = list(key = 'brightness', to = 0.2)),
list(level = 2, dataLabels = list(enabled = FALSE), borderWidth = 1,
colorVariation = list(key = 'brightness', to = 0.2))
),
tooltip = list(valueDecimals = FALSE)
)
hchart(data_to_hierarchical(
data = nasdaq_full,
group_vars = c(Sektor, Ticker),
size_var = Gewichtung),
type = "treemap",
levelIsConstant = FALSE,
animation = list(defer = 1000, duration = 0),
allowDrillToNode = TRUE,
#  allowTraversingTree = TRUE,
layoutAlgorithm = "squarified",
#levels = lvl_opts,
levels = list(
list(level = 1, dataLabels = list(enabled = TRUE), borderWidth = 4,
colorVariation = list(key = 'brightness', to = 0.2)),
list(level = 2, dataLabels = list(enabled = FALSE), borderWidth = 1,
colorVariation = list(key = 'brightness', to = 0.2))
),
tooltip = list(valueDecimals = TRUE)
)
hchart(data_to_hierarchical(
data = nasdaq_full,
group_vars = c(Sektor, Ticker),
size_var = Gewichtung),
type = "treemap",
levelIsConstant = FALSE,
animation = list(defer = 1000, duration = 0),
allowDrillToNode = TRUE,
#  allowTraversingTree = TRUE,
layoutAlgorithm = "squarified",
#levels = lvl_opts,
levels = list(
list(level = 1, dataLabels = list(enabled = TRUE), borderWidth = 4,
colorVariation = list(key = 'brightness', to = 0.2)),
list(level = 2, dataLabels = list(enabled = FALSE), borderWidth = 1,
colorVariation = list(key = 'brightness', to = 0.2))
),
tooltip = list(valueDecimals = FALSE)
)
hchart(data_to_hierarchical(
data = nasdaq_full,
group_vars = c(Sektor, Ticker),
size_var = Gewichtung),
type = "treemap",
levelIsConstant = FALSE,
animation = list(defer = 1000, duration = 0),
allowDrillToNode = TRUE,
#  allowTraversingTree = TRUE,
layoutAlgorithm = "squarified",
#levels = lvl_opts,
levels = list(
list(level = 1, dataLabels = list(enabled = TRUE), borderWidth = 4,
colorVariation = list(key = 'brightness', to = 0.2)),
list(level = 2, dataLabels = list(enabled = TRUE), borderWidth = 1,
colorVariation = list(key = 'brightness', to = 0.2))
),
tooltip = list(valueDecimals = FALSE)
)
hchart(data_to_hierarchical(
data = nasdaq_full,
group_vars = c(Sektor, Ticker),
size_var = Gewichtung),
type = "treemap",
levelIsConstant = FALSE,
animation = list(defer = 1000, duration = 0),
allowDrillToNode = TRUE,
#  allowTraversingTree = TRUE,
layoutAlgorithm = "squarified",
#levels = lvl_opts,
levels = list(
list(level = 1, dataLabels = list(enabled = TRUE), borderWidth = 4,
colorVariation = list(key = 'brightness', to = 0.2)),
list(level = 2, dataLabels = list(enabled = FALSE), borderWidth = 1,
colorVariation = list(key = 'brightness', to = 0.2))
),
tooltip = list(valueDecimals = FALSE)
)
x <- c("Sektor", "Aktie", "Gewichtung", "1 Jahr Performance")
y <- sprintf("{point.%s}", c("Sektor","Name","Gewichtung", "perc_1yr"))
tltip <- tooltip_table(x, y)
pointFormat = tltip,
hchart(data_to_hierarchical(
data = nasdaq_full,
group_vars = c(Sektor, Ticker),
size_var = Gewichtung),
type = "treemap",
levelIsConstant = FALSE,
animation = list(defer = 1000, duration = 0),
allowDrillToNode = TRUE,
#  allowTraversingTree = TRUE,
layoutAlgorithm = "squarified",
#levels = lvl_opts,
levels = list(
list(level = 1, dataLabels = list(enabled = TRUE), borderWidth = 4,
colorVariation = list(key = 'brightness', to = 0.2)),
list(level = 2, dataLabels = list(enabled = FALSE), borderWidth = 1,
colorVariation = list(key = 'brightness', to = 0.2))
),
tooltip = list(valueDecimals = FALSE)
) %>%
hc_tooltip(
useHTML = TRUE,
pointFormat = tltip,
headerFormat = as.character(tags$small("{point.Sektor}")))
tltip <- tooltip_table(x, y)
View(nasdaq_hierarchial_2)
y <- sprintf("{point.%s}", c("name","name","value", "perc_1yr"))
tltip <- tooltip_table(x, y)
hchart(data_to_hierarchical(
data = nasdaq_full,
group_vars = c(Sektor, Ticker),
size_var = Gewichtung),
type = "treemap",
levelIsConstant = FALSE,
animation = list(defer = 1000, duration = 0),
allowDrillToNode = TRUE,
#  allowTraversingTree = TRUE,
layoutAlgorithm = "squarified",
#levels = lvl_opts,
levels = list(
list(level = 1, dataLabels = list(enabled = TRUE), borderWidth = 4,
colorVariation = list(key = 'brightness', to = 0.2)),
list(level = 2, dataLabels = list(enabled = FALSE), borderWidth = 1,
colorVariation = list(key = 'brightness', to = 0.2))
),
tooltip = list(valueDecimals = FALSE)
) %>%
hc_tooltip(
useHTML = TRUE,
pointFormat = tltip,
headerFormat = as.character(tags$small("{point.Sektor}")))
hchart(data_to_hierarchical(
data = nasdaq_full,
group_vars = c(Sektor, Ticker),
size_var = Gewichtung),
type = "treemap",
levelIsConstant = FALSE,
animation = list(defer = 1000, duration = 0),
allowDrillToNode = TRUE,
#  allowTraversingTree = TRUE,
layoutAlgorithm = "squarified",
#levels = lvl_opts,
levels = list(
list(level = 1, dataLabels = list(enabled = TRUE), borderWidth = 4,
colorVariation = list(key = 'brightness', to = 0.2)),
list(level = 2, dataLabels = list(enabled = FALSE), borderWidth = 1,
colorVariation = list(key = 'brightness', to = 0.2))
),
tooltip = list(valueDecimals = FALSE)
) %>%
hc_tooltip(
useHTML = TRUE,
pointFormat = tltip,
headerFormat = as.character(tags$small("{point.Name}")))
hchart(data_to_hierarchical(
data = nasdaq_full,
group_vars = c(Sektor, Ticker),
size_var = Gewichtung),
type = "treemap",
levelIsConstant = FALSE,
animation = list(defer = 1000, duration = 0),
allowDrillToNode = TRUE,
#  allowTraversingTree = TRUE,
layoutAlgorithm = "squarified",
#levels = lvl_opts,
levels = list(
list(level = 1, dataLabels = list(enabled = TRUE), borderWidth = 4,
colorVariation = list(key = 'brightness', to = 0.2)),
list(level = 2, dataLabels = list(enabled = FALSE), borderWidth = 1,
colorVariation = list(key = 'brightness', to = 0.2))
),
tooltip = list(valueDecimals = FALSE)
) %>%
hc_tooltip(
useHTML = TRUE,
pointFormat = tltip,
headerFormat = as.character(tags$small("{point.name}")))
hchart(data_to_hierarchical(
data = nasdaq_full,
group_vars = c(Sektor, Ticker),
size_var = Gewichtung),
type = "treemap",
levelIsConstant = FALSE,
animation = list(defer = 1000, duration = 0),
allowDrillToNode = TRUE,
#  allowTraversingTree = TRUE,
layoutAlgorithm = "squarified",
#levels = lvl_opts,
levels = list(
list(level = 1, dataLabels = list(enabled = TRUE), borderWidth = 4,
colorVariation = list(key = 'brightness', to = 0.2)),
list(level = 2, dataLabels = list(enabled = FALSE), borderWidth = 1,
colorVariation = list(key = 'brightness', to = 0.2))
),
tooltip = list(valueDecimals = FALSE)
) %>%
hc_tooltip(
useHTML = TRUE,
pointFormat = tltip,
headerFormat = as.character(tags$small("{point.name}")))
x <- c("Sektor/Aktie", "Gewichtung", "1 Jahr Performance")
y <- sprintf("{point.%s}", c("name","value", "perc_1yr"))
tltip <- tooltip_table(x, y)
hchart(data_to_hierarchical(
data = nasdaq_full,
group_vars = c(Sektor, Ticker),
size_var = Gewichtung),
type = "treemap",
levelIsConstant = FALSE,
animation = list(defer = 1000, duration = 0),
allowDrillToNode = TRUE,
#  allowTraversingTree = TRUE,
layoutAlgorithm = "squarified",
#levels = lvl_opts,
levels = list(
list(level = 1, dataLabels = list(enabled = TRUE), borderWidth = 4,
colorVariation = list(key = 'brightness', to = 0.2)),
list(level = 2, dataLabels = list(enabled = FALSE), borderWidth = 1,
colorVariation = list(key = 'brightness', to = 0.2))
),
tooltip = list(valueDecimals = FALSE)
) %>%
hc_tooltip(
useHTML = TRUE,
pointFormat = tltip,
headerFormat = as.character(tags$small("{point.name}")))
hchart(data_to_hierarchical(
data = nasdaq_full,
group_vars = c(Sektor, Ticker),
size_var = Gewichtung),
type = "treemap",
levelIsConstant = FALSE,
animation = list(defer = 1000, duration = 0),
allowDrillToNode = TRUE,
#  allowTraversingTree = TRUE,
layoutAlgorithm = "squarified",
#levels = lvl_opts,
levels = list(
list(level = 1, dataLabels = list(enabled = TRUE), borderWidth = 4,
colorVariation = list(key = 'brightness', to = 0.2)),
list(level = 2, dataLabels = list(enabled = TRUE), borderWidth = 1,
colorVariation = list(key = 'brightness', to = 0.2))
),
tooltip = list(valueDecimals = FALSE)
) %>%
hc_tooltip(
useHTML = TRUE,
pointFormat = tltip,
headerFormat = as.character(tags$small("{point.name}")))
hchart(data_to_hierarchical(
data = nasdaq_full,
group_vars = c(Sektor, Ticker),
size_var = Gewichtung),
type = "treemap",
levelIsConstant = FALSE,
animation = list(defer = 1000, duration = 0),
allowDrillToNode = TRUE,
#  allowTraversingTree = TRUE,
layoutAlgorithm = "squarified",
#levels = lvl_opts,
levels = list(
list(level = 1, dataLabels = list(enabled = TRUE), borderWidth = 4,
colorVariation = list(key = 'brightness', to = 0.2)),
list(level = 2, dataLabels = list(enabled = FALSE), borderWidth = 1,
colorVariation = list(key = 'brightness', to = 0.2))
),
tooltip = list(valueDecimals = FALSE)
) %>%
hc_tooltip(
useHTML = TRUE,
pointFormat = tltip,
headerFormat = as.character(tags$small("{point.name}")))
hchart(data_to_hierarchical(
data = nasdaq_full,
group_vars = c(Sektor, Ticker),
size_var = Gewichtung),
type = "treemap",
levelIsConstant = FALSE,
animation = list(defer = 1000, duration = 0),
allowDrillToNode = TRUE,
#  allowTraversingTree = TRUE,
layoutAlgorithm = "squarified",
#levels = lvl_opts,
levels = list(
list(level = 1, dataLabels = list(enabled = TRUE), borderWidth = 4,
colorVariation = list(key = 'brightness', to = 0.2)),
list(level = 2, dataLabels = list(enabled = FALSE), borderWidth = 1,
colorVariation = list(key = 'brightness', to = 0.2))
),
tooltip = list(valueDecimals = FALSE)
) %>%
hc_tooltip(
useHTML = TRUE,
pointFormat = tltip,
headerFormat = "{point.name}")
hchart(data_to_hierarchical(
data = nasdaq_full,
group_vars = c(Sektor, Ticker),
size_var = Gewichtung),
type = "treemap",
levelIsConstant = FALSE,
animation = list(defer = 1000, duration = 0),
allowDrillToNode = TRUE,
#  allowTraversingTree = TRUE,
layoutAlgorithm = "squarified",
#levels = lvl_opts,
levels = list(
list(level = 1, dataLabels = list(enabled = TRUE), borderWidth = 4,
colorVariation = list(key = 'brightness', to = 0.2)),
list(level = 2, dataLabels = list(enabled = FALSE), borderWidth = 1,
colorVariation = list(key = 'brightness', to = 0.2))
),
tooltip = list(valueDecimals = FALSE)
) %>%
hc_tooltip(
useHTML = TRUE,
pointFormat = tltip)
y <- sprintf("{point.%s}", c("name","value", "perc_1yr:.0"))
tltip <- tooltip_table(x, y)
hchart(data_to_hierarchical(
data = nasdaq_full,
group_vars = c(Sektor, Ticker),
size_var = Gewichtung),
type = "treemap",
levelIsConstant = FALSE,
animation = list(defer = 1000, duration = 0),
allowDrillToNode = TRUE,
#  allowTraversingTree = TRUE,
layoutAlgorithm = "squarified",
#levels = lvl_opts,
levels = list(
list(level = 1, dataLabels = list(enabled = TRUE), borderWidth = 4,
colorVariation = list(key = 'brightness', to = 0.2)),
list(level = 2, dataLabels = list(enabled = FALSE), borderWidth = 1,
colorVariation = list(key = 'brightness', to = 0.2))
),
tooltip = list(valueDecimals = FALSE)
) %>%
hc_tooltip(
useHTML = TRUE,
pointFormat = tltip)
y <- sprintf("{point.%s}", c("name","value:.0f", "perc_1yr"))
tltip <- tooltip_table(x, y)
hchart(data_to_hierarchical(
data = nasdaq_full,
group_vars = c(Sektor, Ticker),
size_var = Gewichtung),
type = "treemap",
levelIsConstant = FALSE,
animation = list(defer = 1000, duration = 0),
allowDrillToNode = TRUE,
#  allowTraversingTree = TRUE,
layoutAlgorithm = "squarified",
#levels = lvl_opts,
levels = list(
list(level = 1, dataLabels = list(enabled = TRUE), borderWidth = 4,
colorVariation = list(key = 'brightness', to = 0.2)),
list(level = 2, dataLabels = list(enabled = FALSE), borderWidth = 1,
colorVariation = list(key = 'brightness', to = 0.2))
),
tooltip = list(valueDecimals = FALSE)
) %>%
hc_tooltip(
useHTML = TRUE,
pointFormat = tltip)
y <- sprintf("{point.%s}", c("name","value:.1f", "perc_1yr"))
x <- c("Sektor/Aktie", "Gewichtung")
y <- sprintf("{point.%s}", c("name","value:.1f"))
tltip <- tooltip_table(x, y)
hchart(data_to_hierarchical(
data = nasdaq_full,
group_vars = c(Sektor, Ticker),
size_var = Gewichtung),
type = "treemap",
levelIsConstant = FALSE,
animation = list(defer = 1000, duration = 0),
allowDrillToNode = TRUE,
#  allowTraversingTree = TRUE,
layoutAlgorithm = "squarified",
#levels = lvl_opts,
levels = list(
list(level = 1, dataLabels = list(enabled = TRUE), borderWidth = 4,
colorVariation = list(key = 'brightness', to = 0.2)),
list(level = 2, dataLabels = list(enabled = FALSE), borderWidth = 1,
colorVariation = list(key = 'brightness', to = 0.2))
),
tooltip = list(valueDecimals = FALSE)
) %>%
hc_tooltip(
useHTML = TRUE,
pointFormat = tltip)
y <- sprintf("{point.%s}", c("name","value:.2f"))
tltip <- tooltip_table(x, y)
hchart(data_to_hierarchical(
data = nasdaq_full,
group_vars = c(Sektor, Ticker),
size_var = Gewichtung),
type = "treemap",
levelIsConstant = FALSE,
animation = list(defer = 1000, duration = 0),
allowDrillToNode = TRUE,
#  allowTraversingTree = TRUE,
layoutAlgorithm = "squarified",
#levels = lvl_opts,
levels = list(
list(level = 1, dataLabels = list(enabled = TRUE), borderWidth = 4,
colorVariation = list(key = 'brightness', to = 0.2)),
list(level = 2, dataLabels = list(enabled = FALSE), borderWidth = 1,
colorVariation = list(key = 'brightness', to = 0.2))
),
tooltip = list(valueDecimals = FALSE)
) %>%
hc_tooltip(
useHTML = TRUE,
pointFormat = tltip)
tm2 <- treemap::treemap(nasdaq_full, index = c("Sektor", "Ticker"),
vSize = "Gewichtung", vColor = "perc_1yr",
type = "value", palette = pal)
tm3 <- highchart() %>%
hc_add_series(data = tm2, type = "treemap")
tm3
tm2 <- treemap::treemap(nasdaq_full, index = c("Sektor", "Ticker"),
vSize = "Gewichtung", vColor = "perc_1yr",
type = "value", palette = pal)
highchart() %>%
hc_add_series(data = nasdaq_hierarchial_2, type = "treemap")
hchart(data_to_hierarchical(
data = nasdaq_full,
group_vars = c(Sektor, Ticker),
size_var = Gewichtung),
type = "treemap",
levelIsConstant = FALSE,
animation = list(defer = 1000, duration = 0),
allowDrillToNode = TRUE,
#  allowTraversingTree = TRUE,
layoutAlgorithm = "squarified",
#levels = lvl_opts,
levels = list(
list(level = 1, dataLabels = list(enabled = TRUE), borderWidth = 4,
colorVariation = list(key = 'brightness', to = 0.2)),
list(level = 2, dataLabels = list(enabled = FALSE), borderWidth = 1,
colorVariation = list(key = 'brightness', to = 0.2))
),
tooltip = list(valueDecimals = FALSE)
) %>%
hc_tooltip(
useHTML = TRUE,
pointFormat = tltip)
nasdaq_full %>% # https://stackoverflow.com/questions/63145388/how-to-add-data-labels-for-a-treemap-in-highcharter-in-r
hchart("treemap", hcaes(name = Name, value = Gewichtung, color = perc_1yr)) %>%
hc_title(text = "Nasdaq 100") %>%
hc_subtitle(text = "Alle Werte") %>%
hc_chart(
backgroundColor = '#FFFFFF' # Chart Background Color
) %>%
hc_exporting(enabled = TRUE,
filename = "Grizzlies Scoring")
nasdaq_full %>% # https://stackoverflow.com/questions/63145388/how-to-add-data-labels-for-a-treemap-in-highcharter-in-r
hchart("treemap", hcaes(name = Name, value = Gewichtung, group = Sektor, color = perc_1yr)) %>%
hc_title(text = "Nasdaq 100") %>%
hc_subtitle(text = "Alle Werte") %>%
hc_chart(
backgroundColor = '#FFFFFF' # Chart Background Color
) %>%
hc_exporting(enabled = TRUE,
filename = "Grizzlies Scoring")
nasdaq_full %>% # https://stackoverflow.com/questions/63145388/how-to-add-data-labels-for-a-treemap-in-highcharter-in-r
hchart("treemap", hcaes(name = Name, value = Gewichtung, size = Sektor, color = perc_1yr)) %>%
hc_title(text = "Nasdaq 100") %>%
hc_subtitle(text = "Alle Werte") %>%
hc_chart(
backgroundColor = '#FFFFFF' # Chart Background Color
) %>%
hc_exporting(enabled = TRUE,
filename = "Grizzlies Scoring")
nasdaq_full %>% # https://stackoverflow.com/questions/63145388/how-to-add-data-labels-for-a-treemap-in-highcharter-in-r
hchart("treemap", hcaes(name = Name, value = Gewichtung, fill = Sektor, color = perc_1yr)) %>%
hc_title(text = "Nasdaq 100") %>%
hc_subtitle(text = "Alle Werte") %>%
hc_chart(
backgroundColor = '#FFFFFF' # Chart Background Color
) %>%
hc_exporting(enabled = TRUE,
filename = "Grizzlies Scoring")
hchart(nasdaq_hierarchial, type = "sunburst", allowDrillToNode = TRUE)
#----------------------------------------------------------------------------
# 3. Piechart/Sunburst
#----------------------------------------------------------------------------
pal <- got(120, option = "Daenerys", direction = -1)
nasdaq_hierarchial <- data_to_hierarchical(nasdaq_full, c(Sektor, Ticker), Gewichtung, colors = pal)
hchart(nasdaq_hierarchial, type = "treemap", allowDrillToNode = TRUE)
View(nasdaq_hierarchial)
nasdaq_hierarchial <- data_to_hierarchical(nasdaq_full, c(Sektor, Ticker), Gewichtung, colors = c(pal[1:7],pal[8:100]))
nasdaq_hierarchial <- data_to_hierarchical(nasdaq_full, c(Sektor, Ticker), Gewichtung, colors = c(pal[1:7],pal[8:100]))
View(nasdaq_hierarchial)
hchart(nasdaq_hierarchial, type = "treemap", allowDrillToNode = TRUE)
hchart(nasdaq_hierarchial, type = "sunburst", allowDrillToNode = TRUE)
nasdaq_hierarchial <- data_to_hierarchical(nasdaq_full, c(Sektor, Ticker, Name), Gewichtung, colors = c(pal[1:7],pal[8:100]))
nasdaq_hierarchial <- data_to_hierarchical(nasdaq_full, c(Sektor, Ticker), Gewichtung, colors = pal)
hchart(nasdaq_hierarchial, type = "sunburst", allowDrillToNode = TRUE)
write.csv(nasdaq_all, "content/post/nasdaq_all.csv", row.names = TRUE)
write.csv(nasdaq_all, "content/post/nasdaq_all.csv", row.names = FALSE)
