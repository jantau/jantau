---
title: R Tipps und Tricks
author: Jan Tau
date: '2021-02-02'
slug: r-tipps-und-tricks
categories: []
tags: [R]
subtitle: ''
summary: 'In diesem Post werden Tipps und Tricks gesammelt, die mir das Arbeiten mit R erleichtern und es mir erlauben, Datentransformationen, Analysen und Visualisierungen nach meinen Vorstellungen durchzuführen.'
authors: []
lastmod: '2021-02-02T22:20:59+01:00'
featured: no
image:
  caption: ''
  focal_point: ''
  preview_only: no
projects: []
output:
  blogdown::html_page:
    toc: true
---

```{r include=FALSE}
library(tidyverse)
library(scales)
```

**In diesem Post werden Tipps und Tricks gesammelt, die mir das Arbeiten mit R erleichtern und es mir erlauben, Datentransformationen, Analysen und Visualisierungen nach meinen Vorstellungen durchzuführen.**

## Dezimalseperatoren und Tausendertrennzeichen ändern

Im Deutschen wird ein Komma als Dezimalseperator (z.B. 3,4 %) und ein Punkt als Tausendertrennzeichen (z.B. 10.000 €) oder ein schmales Leerzeichen (z.B. 10 000) verwendet. Im Englischen sind die Seperatoren vertauscht. Ein Komma wird als Tausendertrennzeichen verwendet und ein Punkt als Dezimalseperator.

Um den [Dezimalseperator zu ändern](https://www.tutorialspoint.com/how-to-set-comma-as-decimal-separator-in-r), kann die Code Option `options(OutDec=",")` verwendet werden.

Eine wirklich einfache und globale Lösung für das Ändern der [Tausendertrennzeichen](https://de.wikipedia.org/wiki/Zifferngruppierung) habe ich nicht gefunden. Ich bin mir auch nicht sicher, ob es wirklich sinnvoll ist, da es den Datenaustausch erschwert.

Für einzelne Plots oder Tabelle kann es jedoch sinnvoll sein, ein Tausendertrennzeichen zu nutzen, da es die Lesbarkeit erhöht. Auf Stackoverflow habe ich einen Post gefunden, der beschreibt, wie die [Tausendertrennzeichen verändert](https://stackoverflow.com/questions/48880982/r-set-dot-as-thousands-separator-and-comma-as-decimal-separator) werden können. Zusätzlich zeigt das Beispiel auch noch, wie Euro- oder Prozentzeichen angezeigt werden können.

```{r}
set.seed(42)  ## for sake of reproducibility
n <- 10
dat <- data.frame(
  years = 1:n,
  group = rep(LETTERS[1:10]),
  money = sample(30000:50000, n, replace = TRUE)
)


ggplot(dat, aes(x = group,
                y = money,)) +
  geom_point() +
  theme_classic() +
  scale_y_continuous(labels = dollar_format(
    big.mark = " ",
    decimal.mark = ",",
    suffix = " €",
    prefix = ""
  )) 
```

## Reproduzierbaren Code erstellen

Dieser Post zeigt, wie [reproduzierbarer Code erzeugt werden](https://stackoverflow.com/questions/5963269/how-to-make-a-great-r-reproducible-example) kann, um Fragen auf Stack Overflow zu stellen.

## Pretty Code

Das Addin `Reformat Code` kann verwendet werden, um Code besser lesbar darzustellen. Einfach den Code markieren und `Code >> Reformat Code` auswählen. Das Addin `formatR` soll jedoch [noch besser sein](https://stackoverflow.com/questions/15703553/auto-format-r-code-in-rstudio/34856235). Das habe ich allerdings noch nicht getestet.

## Plots auf Mobilgeräten in voller Größe anzeigen

Auf kleinen Bildschirmen werden Plots sehr klein angezeigt, da sie auf die Breite des Bildschirms schrumpfen und der Inhalt des Plots nicht der verringerten Größe angepasst wird. Es gibt jedoch [die Möglichkeit, durch CSS-Elemente](https://stackoverflow.com/questions/52448104/how-to-add-horizontal-scroll-bar-for-a-ggplot-plot-in-rmarkdown-html) die Größe der Plots beizubehalten und sie durch ein seitwärts Scrollen zu betrachten.

```{r eval=FALSE}
<style >
  .superbigimage{
    overflow - x:scroll
    white - space:nowrap
  }

.superbigimage img{
  max - width:none
}

</style>
  
  
This produces the plot with a special css class
<div class = "superbigimage">
/ ```{
    r plot_it , echo = FALSE, fig.width = 20, fig.height = 3
  }
plot1
/ ```
</div> 
```

Ich bin mir jedoch nicht sicher, ob es wirklich nutzerfreundlicher ist, die Plots in voller Größe zu zeigen. 

Den für diesen Beitrag erstellten Code findest du hier: https://github.com/jantau/jantau