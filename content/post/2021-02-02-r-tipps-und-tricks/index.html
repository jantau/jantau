---
title: R Tipps und Tricks
author: Jan Tau
date: '2021-02-02'
slug: r-tipps-und-tricks
categories: []
tags: [R]
subtitle: ''
summary: 'In diesem Post werden Tipps und Tricks gesammelt, die mir das Arbeiten mit R erleichtern und es mir erlauben, Datentransformationen, Analysen und Visualisierungen nach meinen Vorstellungen durchzuführen.'
authors: []
lastmod: '2021-02-02T22:20:59+01:00'
featured: no
image:
  caption: ''
  focal_point: ''
  preview_only: no
projects: []
output:
  blogdown::html_page:
    toc: true
---

<script src="{{< blogdown/postref >}}index_files/header-attrs/header-attrs.js"></script>

<div id="TOC">
<ul>
<li><a href="#dezimalseperatoren-und-tausendertrennzeichen-ändern">Dezimalseperatoren und Tausendertrennzeichen ändern</a></li>
<li><a href="#reproduzierbaren-code-erstellen">Reproduzierbaren Code erstellen</a></li>
<li><a href="#pretty-code">Pretty Code</a></li>
<li><a href="#plots-auf-mobilgeräten-in-voller-größe-anzeigen">Plots auf Mobilgeräten in voller Größe anzeigen</a></li>
</ul>
</div>

<p><strong>In diesem Post werden Tipps und Tricks gesammelt, die mir das Arbeiten mit R erleichtern und es mir erlauben, Datentransformationen, Analysen und Visualisierungen nach meinen Vorstellungen durchzuführen.</strong></p>
<div id="dezimalseperatoren-und-tausendertrennzeichen-ändern" class="section level2">
<h2>Dezimalseperatoren und Tausendertrennzeichen ändern</h2>
<p>Im Deutschen wird ein Komma als Dezimalseperator (z.B. 3,4 %) und ein Punkt als Tausendertrennzeichen (z.B. 10.000 €) oder ein schmales Leerzeichen (z.B. 10 000) verwendet. Im Englischen sind die Seperatoren vertauscht. Ein Komma wird als Tausendertrennzeichen verwendet und ein Punkt als Dezimalseperator.</p>
<p>Um den <a href="https://www.tutorialspoint.com/how-to-set-comma-as-decimal-separator-in-r">Dezimalseperator zu ändern</a>, kann die Code Option <code>options(OutDec=",")</code> verwendet werden.</p>
<p>Eine wirklich einfache und globale Lösung für das Ändern der <a href="https://de.wikipedia.org/wiki/Zifferngruppierung">Tausendertrennzeichen</a> habe ich nicht gefunden. Ich bin mir auch nicht sicher, ob es wirklich sinnvoll ist, da es den Datenaustausch erschwert.</p>
<p>Für einzelne Plots oder Tabelle kann es jedoch sinnvoll sein, ein Tausendertrennzeichen zu nutzen, da es die Lesbarkeit erhöht. Auf Stackoverflow habe ich einen Post gefunden, der beschreibt, wie die <a href="https://stackoverflow.com/questions/48880982/r-set-dot-as-thousands-separator-and-comma-as-decimal-separator">Tausendertrennzeichen verändert</a> werden können. Zusätzlich zeigt das Beispiel auch noch, wie Euro- oder Prozentzeichen angezeigt werden können.</p>
<pre class="r"><code>set.seed(42)  ## for sake of reproducibility
n &lt;- 10
dat &lt;- data.frame(
  years = 1:n,
  group = rep(LETTERS[1:10]),
  money = sample(30000:50000, n, replace = TRUE)
)


ggplot(dat, aes(x = group,
                y = money,)) +
  geom_point() +
  theme_classic() +
  scale_y_continuous(labels = dollar_format(
    big.mark = &quot; &quot;,
    decimal.mark = &quot;,&quot;,
    suffix = &quot; €&quot;,
    prefix = &quot;&quot;
  )) </code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
</div>
<div id="reproduzierbaren-code-erstellen" class="section level2">
<h2>Reproduzierbaren Code erstellen</h2>
<p>Dieser Post zeigt, wie <a href="https://stackoverflow.com/questions/5963269/how-to-make-a-great-r-reproducible-example">reproduzierbarer Code erzeugt werden</a> kann, um Fragen auf Stack Overflow zu stellen.</p>
</div>
<div id="pretty-code" class="section level2">
<h2>Pretty Code</h2>
<p>Das Addin <code>Reformat Code</code> kann verwendet werden, um Code besser lesbar darzustellen. Einfach den Code markieren und <code>Code &gt;&gt; Reformat Code</code> auswählen. Das Addin <code>formatR</code> soll jedoch <a href="https://stackoverflow.com/questions/15703553/auto-format-r-code-in-rstudio/34856235">noch besser sein</a>. Das habe ich allerdings noch nicht getestet.</p>
</div>
<div id="plots-auf-mobilgeräten-in-voller-größe-anzeigen" class="section level2">
<h2>Plots auf Mobilgeräten in voller Größe anzeigen</h2>
<p>Auf kleinen Bildschirmen werden Plots sehr klein angezeigt, da sie auf die Breite des Bildschirms schrumpfen und der Inhalt des Plots nicht der verringerten Größe angepasst wird. Es gibt jedoch <a href="https://stackoverflow.com/questions/52448104/how-to-add-horizontal-scroll-bar-for-a-ggplot-plot-in-rmarkdown-html">die Möglichkeit, durch CSS-Elemente</a> die Größe der Plots beizubehalten und sie durch ein seitwärts Scrollen zu betrachten.</p>
<pre class="r"><code>&lt;style &gt;
  .superbigimage{
    overflow - x:scroll
    white - space:nowrap
  }

.superbigimage img{
  max - width:none
}

&lt;/style&gt;
  
  
This produces the plot with a special css class
&lt;div class = &quot;superbigimage&quot;&gt;
/ ```{
    r plot_it , echo = FALSE, fig.width = 20, fig.height = 3
  }
plot1
/ ```
&lt;/div&gt; </code></pre>
<p>Ich bin mir jedoch nicht sicher, ob es wirklich nutzerfreundlicher ist, die Plots in voller Größe zu zeigen.</p>
<p>Den für diesen Beitrag erstellten Code findest du hier: <a href="https://github.com/jantau/jantau" class="uri">https://github.com/jantau/jantau</a></p>
</div>
