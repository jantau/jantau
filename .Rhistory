select(1, 4, 5)
head(MSCI_Info)
ISIN <- c("DE0005557508", "US0378331005", "US0231351067", "US67066G1040", "US8522341036", "DE0005140008", "US90184L1026", "US00507V1098")
Symbol <- c("DTE", "AAPL", "AMZN", "NVDA", "SQ", "DBK", "TWTR", "ATVI")
Weight_Perc_Single_Stocks <- c(0.137, 0.112, 0.094, 0.084, 0.069, 0.047, 0.0259, 0.015)
Single_Stocks <- data.frame(Symbol, ISIN, Weight_Perc_Single_Stocks)
as_tibble(Single_Stocks)
weight_all <- plyr::join_all(list(NASDAQ_100, MSCI_World, MSCI_Info, Single_Stocks), by = "ISIN", type = "full")
weight_all <- weight_all %>%
replace(is.na(.), 0) %>%
mutate(sum = rowSums(.[3:6])) %>%
arrange(desc(sum)) %>%
mutate(sum = sum * 100)
as_tibble(weight_all)
pal <- got(1, option = "Daenerys", direction = 1)
weight_all %>%
filter(sum >= 0.5) %>%
ggplot(aes(x = reorder(Symbol, sum), y = sum)) +
geom_col(fill = pal) +
geom_label(
aes(label = paste0(round(sum, 1), " %")),
show.legend = FALSE,
size = 3,
alpha = 0.9
) +
coord_flip() +
theme_jantau +
labs(title = "Gewichtung einzelner Aktien im Gesamtportfolio",
subtitle = "Datenanalyse: jantau") +
theme(
axis.line.x = element_blank(),
axis.text.x = element_blank(),
axis.ticks.x = element_blank(),
axis.title.x = element_blank(),
axis.title.y = element_blank()
)
weight_all_long <- pivot_longer(weight_all, cols = starts_with("Weight_Perc"))
write.csv(weight_all_long,"weight_all_long.csv", row.names = FALSE)
knitr::opts_chunk$set(
echo = FALSE,
message = FALSE,
warning = FALSE,
collapse = TRUE,
options(scipen = 999)
)
cat("\014") # Clear your console
rm(list = ls()) # Clear your environment
# Load in header file
source("/Users/jan/blog/jantau/content/post/header.R")
archive_weight_all_long <- read_csv(file = "content/post/2021-02-27-portfolio-und-aktien-gewichtung/weight_all_long.csv")
archive_weight_all_long <- read_csv(file = "/Users/jan/blog/jantau/content/post/2021-02-27-portfolio-und-aktien-gewichtung/weight_all_long.csv")
View(archive_weight_all_long)
library(highcharter)
library(widgetframe)
pal <- got(4, option = "Daenerys", direction = 1)
hc <- weight_all_long %>%
filter(sum >= 0.5) %>%
mutate(value = value * 100) %>%
hchart(
'bar', hcaes(x = 'Symbol', y = 'value', group = 'name'),
stacking = "normal"
) %>%
hc_title(text = "Gewichtung einzelner Aktien im Gesamtportfolio") %>%
hc_colors(pal)
library(highcharter)
library(widgetframe)
pal <- got(4, option = "Daenerys", direction = 1)
hc <- archive_weight_all_long %>%
filter(sum >= 0.5) %>%
mutate(value = value * 100) %>%
hchart(
'bar', hcaes(x = 'Symbol', y = 'value', group = 'name'),
stacking = "normal"
) %>%
hc_title(text = "Gewichtung einzelner Aktien im Gesamtportfolio") %>%
hc_colors(pal)
frameWidget(hc)
blogdown:::preview_site()
blogdown:::preview_site()
knitr::opts_chunk$set(
echo = FALSE,
message = FALSE,
warning = FALSE,
collapse = TRUE,
options(scipen = 999)
)
cat("\014") # Clear your console
rm(list = ls()) # Clear your environment
# Load in header file
source("/Users/jan/blog/jantau/content/post/header.R")
highcharter::export_hc(hc, "filename.js")
library(highcharter)
library(widgetframe)
pal <- got(4, option = "Daenerys", direction = 1)
hc <- archive_weight_all_long %>%
filter(sum >= 0.5) %>%
mutate(value = value * 100) %>%
hchart(
'bar', hcaes(x = 'Symbol', y = 'value', group = 'name'),
stacking = "normal"
) %>%
hc_title(text = "Gewichtung einzelner Aktien im Gesamtportfolio") %>%
hc_colors(pal)
knitr::opts_chunk$set(
echo = FALSE,
message = FALSE,
warning = FALSE,
collapse = TRUE,
options(scipen = 999)
)
cat("\014") # Clear your console
rm(list = ls()) # Clear your environment
# Load in header file
source("/Users/jan/blog/jantau/content/post/header.R")
archive_weight_all_long <- read_csv(file = "/Users/jan/blog/jantau/content/post/2021-02-27-portfolio-und-aktien-gewichtung/weight_all_long.csv")
library(highcharter)
library(widgetframe)
pal <- got(4, option = "Daenerys", direction = 1)
hc <- archive_weight_all_long %>%
filter(sum >= 0.5) %>%
mutate(value = value * 100) %>%
hchart(
'bar', hcaes(x = 'Symbol', y = 'value', group = 'name'),
stacking = "normal"
) %>%
hc_title(text = "Gewichtung einzelner Aktien im Gesamtportfolio") %>%
hc_colors(pal)
highcharter::export_hc(hc, "filename.js")
library(highcharter)
library(widgetframe)
pal <- got(4, option = "Daenerys", direction = 1)
archive_weight_all_long <- archive_weight_all_long %>%
filter(sum >= 0.5) %>%
mutate(value = value * 100)
hc <- hchart(archive_weight_all_long,
'bar', hcaes(x = 'Symbol', y = 'value', group = 'name'),
stacking = "normal"
) %>%
hc_title(text = "Gewichtung einzelner Aktien im Gesamtportfolio") %>%
hc_colors(pal)
frameWidget(hc)
library(highcharter)
library(widgetframe)
pal <- got(4, option = "Daenerys", direction = 1)
archive_weight_all_long <- archive_weight_all_long %>%
filter(sum >= 0.5) %>%
mutate(value = value * 100)
hc <- hchart(archive_weight_all_long,
'bar', hcaes(x = 'Symbol', y = 'value', group = 'name'),
stacking = "normal"
) %>%
hc_title(text = "Gewichtung einzelner Aktien im Gesamtportfolio") %>%
hc_colors(pal)
#frameWidget(hc)
widgetframe(hc, width = "100%")
library(highcharter)
library(widgetframe)
#library(htmlwidgets)
pal <- got(4, option = "Daenerys", direction = 1)
archive_weight_all_long <- archive_weight_all_long %>%
filter(sum >= 0.5) %>%
mutate(value = value * 100)
hc <- hchart(archive_weight_all_long,
'bar', hcaes(x = 'Symbol', y = 'value', group = 'name'),
stacking = "normal"
) %>%
hc_title(text = "Gewichtung einzelner Aktien im Gesamtportfolio") %>%
hc_colors(pal)
#frameWidget(hc)
frameWidget(hc, width = "100%", frameOptions(allowfullscreen = TRUE))
library(highcharter)
library(widgetframe)
#library(htmlwidgets)
pal <- got(4, option = "Daenerys", direction = 1)
archive_weight_all_long <- archive_weight_all_long %>%
filter(sum >= 0.5) %>%
mutate(value = value * 100)
hc <- hchart(archive_weight_all_long,
'bar', hcaes(x = 'Symbol', y = 'value', group = 'name'),
stacking = "normal"
) %>%
hc_title(text = "Gewichtung einzelner Aktien im Gesamtportfolio") %>%
hc_colors(pal)
#frameWidget(hc)
frameWidget(hc, frameOptions(allowfullscreen = TRUE))
library(highcharter)
library(widgetframe)
#library(htmlwidgets)
pal <- got(4, option = "Daenerys", direction = 1)
archive_weight_all_long <- archive_weight_all_long %>%
filter(sum >= 0.5) %>%
mutate(value = value * 100)
hc <- hchart(archive_weight_all_long,
'bar', hcaes(x = 'Symbol', y = 'value', group = 'name'),
stacking = "normal"
) %>%
hc_title(text = "Gewichtung einzelner Aktien im Gesamtportfolio") %>%
hc_colors(pal)
frameWidget(hc)
hugo mod get -u
htmlwidgets::saveWidget(frameableWidget(hc), file = "hc.html", selfcontained = TRUE)
blogdown::new_post("gewichtung_md", ext = ".md")
saveWidget(hc, file = "hc.html", selfcontained = FALSE)
knitr::opts_chunk$set(
echo = FALSE,
message = FALSE,
warning = FALSE,
collapse = TRUE,
options(scipen = 999)
)
cat("\014") # Clear your console
rm(list = ls()) # Clear your environment
# Load in header file
source("/Users/jan/blog/jantau/content/post/header.R")
archive_weight_all_long <- read_csv(file = "/Users/jan/blog/jantau/content/post/2021-02-27-portfolio-und-aktien-gewichtung/weight_all_long.csv")
library(highcharter)
library(widgetframe)
library(htmlwidgets)
pal <- got(4, option = "Daenerys", direction = 1)
archive_weight_all_long <- archive_weight_all_long %>%
filter(sum >= 0.5) %>%
mutate(value = value * 100)
hc <- hchart(archive_weight_all_long,
'bar', hcaes(x = 'Symbol', y = 'value', group = 'name'),
stacking = "normal"
) %>%
hc_title(text = "Gewichtung einzelner Aktien im Gesamtportfolio") %>%
hc_colors(pal)
# frameWidget(hc)
saveWidget(hc, file = "hc.html", selfcontained = TRUE)
# <iframe seamless src="hc.html" width="100%" height="500"></iframe>
blogdown:::preview_site()
knitr::opts_chunk$set(
echo = FALSE,
message = FALSE,
warning = FALSE,
collapse = TRUE,
options(scipen = 999)
)
cat("\014") # Clear your console
rm(list = ls()) # Clear your environment
# Load in header file
source("/Users/jan/blog/jantau/content/post/header.R")
library(highcharter)
library(widgetframe)
library(htmlwidgets)
pal <- got(4, option = "Daenerys", direction = 1)
archive_weight_all_long <- archive_weight_all_long %>%
filter(sum >= 0.5) %>%
mutate(value = value * 100)
archive_weight_all_long <- read_csv(file = "/Users/jan/blog/jantau/content/post/2021-02-27-portfolio-und-aktien-gewichtung/weight_all_long.csv")
library(highcharter)
library(widgetframe)
library(htmlwidgets)
pal <- got(4, option = "Daenerys", direction = 1)
archive_weight_all_long <- archive_weight_all_long %>%
filter(sum >= 0.5) %>%
mutate(value = value * 100)
hc <- hchart(archive_weight_all_long,
'bar', hcaes(x = 'Symbol', y = 'value', group = 'name'),
stacking = "normal"
) %>%
hc_title(text = "Gewichtung einzelner Aktien im Gesamtportfolio") %>%
hc_colors(pal)
# frameWidget(hc)
hc
library(highcharter)
library(widgetframe)
library(htmlwidgets)
pal <- got(4, option = "Daenerys", direction = 1)
archive_weight_all_long <- archive_weight_all_long %>%
filter(sum >= 0.5) %>%
mutate(value = value * 100)
hc <- hchart(
archive_weight_all_long,
'bar',
hcaes(x = 'Symbol', y = 'value', group = 'name'),
stacking = "normal"
) %>%
hc_title(text = "Gewichtung einzelner Aktien im Gesamtportfolio") %>%
hc_caption(text = "Datenanalyse und Visualisierung: jantau.com") %>%
hc_colors(pal)
# frameWidget(hc) does not work
library(highcharter)
library(widgetframe)
library(htmlwidgets)
pal <- got(4, option = "Daenerys", direction = 1)
archive_weight_all_long <- archive_weight_all_long %>%
filter(sum >= 0.5) %>%
mutate(value = value * 100)
hc <- hchart(
archive_weight_all_long,
'bar',
hcaes(x = 'Symbol', y = 'value', group = 'name'),
stacking = "normal"
) %>%
hc_title(text = "Gewichtung einzelner Aktien im Gesamtportfolio") %>%
hc_caption(text = "Datenanalyse und Visualisierung: jantau.com") %>%
hc_colors(pal)
hc
# frameWidget(hc) does not work
archive_weight_all_long <- read_csv(file = "/Users/jan/blog/jantau/content/post/2021-02-27-portfolio-und-aktien-gewichtung/weight_all_long.csv")
library(highcharter)
library(widgetframe)
library(htmlwidgets)
archive_weight_all_long <- read_csv(file = "/Users/jan/blog/jantau/content/post/2021-02-27-portfolio-und-aktien-gewichtung/weight_all_long.csv")
pal <- got(4, option = "Daenerys", direction = 1)
archive_weight_all_long <- archive_weight_all_long %>%
filter(sum >= 0.5) %>%
mutate(value = value * 100)
hc <- hchart(
archive_weight_all_long,
'bar',
hcaes(x = 'Symbol', y = 'value', group = 'name'),
stacking = "normal"
) %>%
hc_title(text = "Gewichtung einzelner Aktien im Gesamtportfolio") %>%
hc_caption(text = "Datenanalyse und Visualisierung: jantau.com") %>%
hc_colors(pal)
hc
# frameWidget(hc) does not work
library(highcharter)
library(widgetframe)
library(htmlwidgets)
archive_weight_all_long <- read_csv(file = "/Users/jan/blog/jantau/content/post/2021-02-27-portfolio-und-aktien-gewichtung/weight_all_long.csv")
pal <- got(4, option = "Daenerys", direction = 1)
archive_weight_all_long <- archive_weight_all_long %>%
filter(sum >= 0.5) %>%
mutate(value = value * 100)
hc <- hchart(
archive_weight_all_long,
'bar',
hcaes(x = 'Symbol', y = 'value', group = 'name'),
stacking = "normal"
) %>%
hc_title(text = "Gewichtung einzelner Aktien im Gesamtportfolio") %>%
hc_caption(text = "Datenanalyse und Visualisierung: jantau.com") %>%
hc_colors(pal)
hc
# frameWidget(hc) does not work
library(highcharter)
library(widgetframe)
library(htmlwidgets)
archive_weight_all_long <- read_csv(file = "/Users/jan/blog/jantau/content/post/2021-02-27-portfolio-und-aktien-gewichtung/weight_all_long.csv")
pal <- got(4, option = "Daenerys", direction = 1)
archive_weight_all_long <- archive_weight_all_long %>%
filter(sum >= 0.5) %>%
mutate(value = value * 100)
hc <- hchart(
archive_weight_all_long,
'bar',
hcaes(x = 'Symbol', y = 'value', group = 'name'),
stacking = "normal"
) %>%
hc_title(text = "Gewichtung einzelner Aktien im Gesamtportfolio") %>%
hc_caption(text = "Datenanalyse und Visualisierung: jantau.com") %>%
hc_xAxis(title=list(text = NULL)) %>%
hc_colors(pal)
hc
# frameWidget(hc) does not work
library(highcharter)
library(widgetframe)
library(htmlwidgets)
archive_weight_all_long <- read_csv(file = "/Users/jan/blog/jantau/content/post/2021-02-27-portfolio-und-aktien-gewichtung/weight_all_long.csv")
pal <- got(4, option = "Daenerys", direction = 1)
archive_weight_all_long <- archive_weight_all_long %>%
filter(sum >= 0.5) %>%
mutate(value = value * 100)
hc <- hchart(
archive_weight_all_long,
'bar',
hcaes(x = 'Symbol', y = 'value', group = 'name'),
stacking = "normal"
) %>%
hc_title(text = "Gewichtung einzelner Aktien im Gesamtportfolio") %>%
hc_caption(text = "Datenanalyse und Visualisierung: jantau.com") %>%
hc_xAxis(title=list(text = NULL)) %>%
hc_yAxis(title=list(text = NULL)) %>%
hc_colors(pal)
hc
# frameWidget(hc) does not work
library(highcharter)
library(widgetframe)
library(htmlwidgets)
archive_weight_all_long <- read_csv(file = "/Users/jan/blog/jantau/content/post/2021-02-27-portfolio-und-aktien-gewichtung/weight_all_long.csv")
pal <- got(4, option = "Daenerys", direction = 1)
archive_weight_all_long <- archive_weight_all_long %>%
filter(sum >= 0.5) %>%
mutate(value = value * 100)
hc <- hchart(
archive_weight_all_long,
'bar',
hcaes(x = 'Symbol', y = 'value', group = 'name'),
stacking = "normal"
) %>%
hc_title(text = "Gewichtung einzelner Aktien im Gesamtportfolio") %>%
hc_caption(text = "Datenanalyse und Visualisierung: jantau.com") %>%
hc_xAxis(title=list(text = NULL)) %>%
hc_yAxis(title=list(text = NULL)) %>%
hc_colors(pal)
hc
# frameWidget(hc) does not work
library(highcharter)
library(widgetframe)
library(htmlwidgets)
archive_weight_all_long <- read_csv(file = "/Users/jan/blog/jantau/content/post/2021-02-27-portfolio-und-aktien-gewichtung/weight_all_long.csv")
pal <- got(4, option = "Daenerys", direction = 1)
archive_weight_all_long <- archive_weight_all_long %>%
filter(sum >= 0.5) %>%
mutate(value = value * 100)
hc <- hchart(
archive_weight_all_long,
'bar',
hcaes(x = 'Symbol', y = 'value', group = 'name'),
stacking = "normal"
) %>%
hc_title(text = "Gewichtung einzelner Aktien im Gesamtportfolio") %>%
hc_caption(text = "Datenanalyse und Visualisierung: jantau.com") %>%
hc_xAxis(title=list(text = NULL)) %>%
hc_yAxis(title=list(text = "TEST")) %>%
hc_colors(pal)
hc
# frameWidget(hc) does not work
library(highcharter)
library(widgetframe)
library(htmlwidgets)
archive_weight_all_long <- read_csv(file = "/Users/jan/blog/jantau/content/post/2021-02-27-portfolio-und-aktien-gewichtung/weight_all_long.csv")
pal <- got(4, option = "Daenerys", direction = 1)
archive_weight_all_long <- archive_weight_all_long %>%
filter(sum >= 0.5) %>%
mutate(value = value * 100)
hc <- hchart(
archive_weight_all_long,
'bar',
hcaes(x = 'Symbol', y = 'value', group = 'name'),
stacking = "normal"
) %>%
hc_title(text = "Gewichtung einzelner Aktien im Gesamtportfolio") %>%
hc_caption(text = "Datenanalyse und Visualisierung: jantau.com") %>%
hc_xAxis(title=list(text = NULL)) %>%
hc_yAxis(title=list(text = NULL)) %>%
hc_colors(pal)
hc
# frameWidget(hc) does not work
library(highcharter)
library(widgetframe)
library(htmlwidgets)
archive_weight_all_long <- read_csv(file = "/Users/jan/blog/jantau/content/post/2021-02-27-portfolio-und-aktien-gewichtung/weight_all_long.csv")
pal <- got(4, option = "Daenerys", direction = 1)
archive_weight_all_long <- archive_weight_all_long %>%
filter(sum >= 0.5) %>%
mutate(value = value * 100)
hc <- hchart(
archive_weight_all_long,
'bar',
hcaes(x = 'Symbol', y = 'value', group = 'name'),
stacking = "normal"
) %>%
hc_title(text = "Gewichtung einzelner Aktien im Gesamtportfolio") %>%
hc_caption(text = "Datenanalyse und Visualisierung: jantau.com") %>%
hc_xAxis(title=list(text = NULL)) %>%
hc_yAxis(title=list(text = "Anteil in Prozent am Gesamtportfolio")) %>%
hc_colors(pal)
hc
# frameWidget(hc) does not work
library(highcharter)
library(widgetframe)
library(htmlwidgets)
archive_weight_all_long <- read_csv(file = "/Users/jan/blog/jantau/content/post/2021-02-27-portfolio-und-aktien-gewichtung/weight_all_long.csv")
pal <- got(4, option = "Daenerys", direction = 1)
archive_weight_all_long <- archive_weight_all_long %>%
filter(sum >= 0.5) %>%
mutate(value = value * 100)
hc <- hchart(
archive_weight_all_long,
'bar',
hcaes(x = 'Symbol', y = 'value', group = 'name'),
stacking = "normal"
) %>%
hc_title(text = "Gewichtung einzelner Aktien im Gesamtportfolio") %>%
hc_caption(text = "Datenanalyse und Visualisierung: jantau.com") %>%
hc_xAxis(title=list(text = NULL)) %>%
hc_yAxis(title=list(text = "Anteil in Prozent am Gesamtportfolio"),
labels = list(format = "{value}%")) %>%
hc_colors(pal)
hc
# frameWidget(hc) does not work
library(highcharter)
library(widgetframe)
library(htmlwidgets)
archive_weight_all_long <- read_csv(file = "/Users/jan/blog/jantau/content/post/2021-02-27-portfolio-und-aktien-gewichtung/weight_all_long.csv")
pal <- got(4, option = "Daenerys", direction = 1)
archive_weight_all_long <- archive_weight_all_long %>%
filter(sum >= 0.5) %>%
mutate(value = value * 100)
hc <- hchart(
archive_weight_all_long,
'bar',
hcaes(x = 'Symbol', y = 'value', group = 'name'),
stacking = "normal"
) %>%
hc_title(text = "Gewichtung einzelner Aktien im Gesamtportfolio") %>%
hc_caption(text = "Datenanalyse und Visualisierung: jantau.com") %>%
hc_xAxis(title=list(text = NULL)) %>%
hc_yAxis(title=list(text = "Anteil in Prozent am Gesamtportfolio"),
labels = list(format = "{value} %")) %>%
hc_colors(pal)
hc
# frameWidget(hc) does not work
blogdown:::preview_site()
blogdown:::preview_site()
blogdown:::preview_site()
