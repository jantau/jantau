group_by(yearmon) %>%
filter(date == last(date)) %>%
filter(day %in% c(1, 5, 10, 15, 20)) %>%
ggplot(aes(x = date, y = absolute, color = day)) +
geom_line() +
theme_jantau +
theme(legend.position = "none") +
geom_label_repel(data = data_7 %>% ungroup() %>% filter(date == last(date)) %>% filter(day %in% c(1, 5, 10, 15, 20)) , aes(label = day))
data_7 %>%
filter(date >= "2010-01-01") %>%
group_by(yearmon) %>%
filter(date == last(date)) %>%
# filter(day %in% c(1, 5, 10, 15, 20)) %>%
ggplot(aes(x = date, y = absolute, color = day)) +
geom_line() +
theme_jantau +
theme(legend.position = "none") +
geom_label_repel(data =
data_7 %>%
ungroup() %>%
filter(day %in% c(1, 5, 10, 15, 20)) %>%
filter(date == last(date)),
aes(label = day))
data_7 %>%
filter(date >= "2010-01-01") %>%
group_by(yearmon) %>%
filter(date == last(date)) %>%
# filter(day %in% c(1, 5, 10, 15, 20)) %>%
ggplot(aes(x = date, y = absolute, color = day)) +
geom_line() +
theme_jantau +
theme(legend.position = "none") +
geom_label_repel(data =
data_7 %>%
ungroup() %>%
#  filter(day %in% c(1, 5, 10, 15, 20)) %>%
filter(date == last(date)),
aes(label = day))
data_7 %>%
filter(date >= "2010-01-01") %>%
group_by(yearmon) %>%
filter(date == last(date)) %>%
filter(day %in% c(1, 5, 10, 15, 20)) %>%
ggplot(aes(x = date, y = absolute, color = day)) +
geom_line() +
theme_jantau +
theme(legend.position = "none") +
geom_label_repel(data =
data_7 %>%
ungroup() %>%
filter(day %in% c(1, 5, 10, 15, 20)) %>%
filter(date == last(date)),
aes(label = day))
data_7 %>%
filter(date >= "2010-01-01") %>%
group_by(yearmon) %>%
filter(date == last(date)) %>%
filter(day %in% c(1, 5, 10, 15, 20)) %>%
ggplot(aes(x = date, y = absolute, color = day)) +
geom_line() +
theme_jantau +
theme(legend.position = "none") +
scale_x_date(date_breaks = "years") +
geom_label_repel(data =
data_7 %>%
ungroup() %>%
filter(day %in% c(1, 5, 10, 15, 20)) %>%
filter(date == last(date)),
aes(label = day))
data_7 %>%
filter(date >= "2010-01-01") %>%
group_by(yearmon) %>%
filter(date == last(date)) %>%
filter(day %in% c(1, 5, 10, 15, 20)) %>%
ggplot(aes(x = date, y = absolute, color = day)) +
geom_line() +
theme_jantau +
theme(legend.position = "none") +
scale_x_date(date_breaks = "years", date_labels = "%y") +
geom_label_repel(data =
data_7 %>%
ungroup() %>%
filter(day %in% c(1, 5, 10, 15, 20)) %>%
filter(date == last(date)),
aes(label = day))
data_7 %>%
filter(date >= "2010-01-01") %>%
group_by(yearmon) %>%
filter(date == last(date)) %>%
filter(day %in% c(1, 5, 10, 15, 20)) %>%
ggplot(aes(x = date, y = absolute, color = day)) +
geom_line() +
theme_jantau +
theme(legend.position = "none") +
scale_x_date(date_breaks = "years", date_labels = "%Y") +
geom_label_repel(data =
data_7 %>%
ungroup() %>%
filter(day %in% c(1, 5, 10, 15, 20)) %>%
filter(date == last(date)),
aes(label = day))
data_7 %>%
filter(date >= "2010-01-01") %>%
group_by(yearmon) %>%
filter(date == last(date)) %>%
filter(day %in% c(1, 5, 10, 15, 20, 23)) %>%
ggplot(aes(x = date, y = absolute, color = day)) +
geom_line() +
theme_jantau +
theme(legend.position = "none") +
scale_x_date(date_breaks = "years", date_labels = "%Y") +
geom_label_repel(data =
data_7 %>%
ungroup() %>%
filter(day %in% c(1, 5, 10, 15, 20, 23)) %>%
filter(date == last(date)),
aes(label = day))
data_7 %>%
filter(date >= "2010-01-01") %>%
group_by(yearmon) %>%
filter(date == last(date)) %>%
filter(day %in% c(1, 5, 10, 15, 20, 23)) %>%
ggplot(aes(x = date, y = absolute, color = day)) +
geom_line() +
theme_jantau +
theme(legend.position = "none",
axis.title.x = element_blank()) +
scale_x_date(date_breaks = "years", date_labels = "%Y") +
geom_label_repel(data =
data_7 %>%
ungroup() %>%
filter(day %in% c(1, 5, 10, 15, 20, 23)) %>%
filter(date == last(date)),
aes(label = day))
data_7 %>%
filter(date >= "2010-01-01") %>%
group_by(yearmon) %>%
filter(date == last(date)) %>%
filter(day %in% c(1, 5, 10, 15, 20, 23)) %>%
ggplot(aes(x = date, y = absolute, color = day)) +
geom_line() +
theme_jantau +
theme(legend.position = "none",
axis.title.x = element_blank()) +
scale_x_date(date_breaks = "years", date_labels = "%Y") +
scale_y_continuous(labels = dollar_format(
big.mark = " ",
decimal.mark = ",",
suffix = " €",
prefix = ""
)) +
geom_label_repel(data =
data_7 %>%
ungroup() %>%
filter(day %in% c(1, 5, 10, 15, 20, 23)) %>%
filter(date == last(date)),
aes(label = day))
data_7 %>%
filter(date >= "2010-01-01") %>%
group_by(yearmon) %>%
filter(date == last(date)) %>%
filter(day %in% c(1, 5, 10, 15, 20, 23)) %>%
ggplot(aes(x = date, y = absolute, color = day)) +
geom_line() +
theme_jantau +
theme(legend.position = "none",
axis.title.x = element_blank()) +
scale_x_date(date_breaks = "years", date_labels = "%Y") +
scale_y_continuous(labels = dollar_format(
big.mark = " ",
decimal.mark = ",",
suffix = " €",
prefix = ""
)) +
labs(y = "Verlust im Vergleich zum Anlagetag = 1. Bankarbeitstag im Monat") +
geom_label_repel(data =
data_7 %>%
ungroup() %>%
filter(day %in% c(1, 5, 10, 15, 20, 23)) %>%
filter(date == last(date)),
aes(label = day))
data_7 %>%
filter(date >= "2010-01-01") %>%
group_by(yearmon) %>%
filter(date == last(date)) %>%
filter(day %in% c(1, 5, 10, 15, 20, 23)) %>%
ggplot(aes(x = date, y = absolute, color = day)) +
geom_line() +
theme_jantau +
theme(legend.position = "none",
axis.title.x = element_blank()) +
scale_x_date(date_breaks = "years", date_labels = "%Y") +
scale_y_continuous(labels = dollar_format(
big.mark = " ",
decimal.mark = ",",
suffix = " €",
prefix = ""
)) +
labs(y = "Veränderung Performance bei unterschiedlichen Bankarbeitstagen") +
geom_label_repel(data =
data_7 %>%
ungroup() %>%
filter(day %in% c(1, 5, 10, 15, 20, 23)) %>%
filter(date == last(date)),
aes(label = day))
data_7 %>%
filter(date >= "2010-01-01") %>%
group_by(yearmon) %>%
filter(date == last(date)) %>%
filter(day %in% c(1, 5, 10, 15, 20, 23)) %>%
ggplot(aes(x = date, y = absolute, color = day)) +
geom_line() +
theme_jantau +
theme(legend.position = "none",
axis.title.x = element_blank()) +
scale_x_date(date_breaks = "years", date_labels = "%Y") +
scale_y_continuous(labels = dollar_format(
big.mark = " ",
decimal.mark = ",",
suffix = " €",
prefix = ""
)) +
labs(y = "Veränderung Performance bei unterschiedlichen monatlichen Anlagetagen") +
geom_label_repel(data =
data_7 %>%
ungroup() %>%
filter(day %in% c(1, 5, 10, 15, 20, 23)) %>%
filter(date == last(date)),
aes(label = day))
data_7 %>%
filter(date >= "2012-07-01") %>%
group_by(yearmon) %>%
filter(date == last(date)) %>%
filter(day %in% c(1, 5, 10, 15, 20, 23)) %>%
ggplot(aes(x = date, y = perc, color = day)) +
geom_line()
data_7 %>%
filter(date >= "2010-07-01") %>%
group_by(yearmon) %>%
filter(date == last(date)) %>%
filter(day %in% c(1, 5, 10, 15, 20, 23)) %>%
ggplot(aes(x = date, y = perc, color = day)) +
geom_line()
data_7 %>%
filter(date >= "2012-01-01") %>%
group_by(yearmon) %>%
filter(date == last(date)) %>%
filter(day %in% c(1, 5, 10, 15, 20, 23)) %>%
ggplot(aes(x = date, y = perc, color = day)) +
geom_line()
data_7 %>%
filter(date >= "2013-01-01") %>%
group_by(yearmon) %>%
filter(date == last(date)) %>%
filter(day %in% c(1, 5, 10, 15, 20, 23)) %>%
ggplot(aes(x = date, y = perc, color = day)) +
geom_line()
data_7 %>%
filter(date >= "2010-01-01") %>%
group_by(yearmon) %>%
filter(date == last(date)) %>%
filter(day %in% c(1, 5, 10, 15, 20, 23)) %>%
ggplot(aes(x = date, y = absolute, color = day)) +
geom_line() +
theme_jantau +
theme(legend.position = "none",
axis.title.x = element_blank()) +
scale_x_date(date_breaks = "years", date_labels = "%Y") +
scale_y_continuous(labels = dollar_format(
big.mark = " ",
decimal.mark = ",",
suffix = " €",
prefix = ""
)) +
labs(y = "Veränderung Performance bei unterschiedlichen monatlichen Anlagetagen") +
geom_label_repel(data =
data_7 %>%
ungroup() %>%
filter(day %in% c(1, 5, 10, 15, 20, 23)) %>%
filter(date == last(date)),
aes(label = day))
data_6 <- data_4 %>%
arrange(-portfolio) %>%
mutate(absolute =  portfolio - first(portfolio)) %>%
mutate(perc = (1-first(portfolio)/portfolio) * 100) %>%
mutate(saving = 138000) %>%
mutate(performance_perc = (portfolio / saving - 1) * 100) %>%
mutate(performance_loss = performance_perc - first(performance_perc))
ggplot(data_6, aes(x = day, y = performance_loss)) +
geom_col() +
theme_jantau +
geom_label(aes(x = day, y = performance_loss, label = round(performance_loss, 2)))
ggplot(data_6, aes(x = day, y = performance_loss)) +
geom_col() +
theme_jantau +
geom_label(aes(x = day, y = performance_loss, label = paste0(round(performance_loss, 2), " %")))
ggplot(data_6, aes(x = day, y = performance_loss)) +
geom_col() +
theme_jantau +
xlim(0:23) +
geom_label(aes(x = day, y = performance_loss, label = paste0(round(performance_loss, 2), " %")))
ggplot(data_6, aes(x = day, y = performance_loss)) +
geom_col() +
theme_jantau +
xlim(c(0:23)) +
geom_label(aes(x = day, y = performance_loss, label = paste0(round(performance_loss, 2), " %")))
ggplot(data_6, aes(x = day, y = performance_loss)) +
geom_col() +
theme_jantau +
xlim(1:23) +
geom_label(aes(x = day, y = performance_loss, label = paste0(round(performance_loss, 2), " %")))
ggplot(data_6, aes(x = day, y = performance_loss)) +
geom_col() +
theme_jantau +
xlim(1, 23) +
geom_label(aes(x = day, y = performance_loss, label = paste0(round(performance_loss, 2), " %")))
ggplot(data_6, aes(x = day, y = performance_loss)) +
geom_col() +
theme_jantau +
xlim(1, 24) +
geom_label(aes(x = day, y = performance_loss, label = paste0(round(performance_loss, 2), " %")))
ggplot(data_6, aes(x = day, y = performance_loss)) +
geom_col() +
theme_jantau +
xlim(1, 24) +
scale_x_continuous(breaks = c(1:23)) +
geom_label(aes(x = day, y = performance_loss, label = paste0(round(performance_loss, 2), " %")))
ggplot(data_6, aes(x = day, y = performance_loss)) +
geom_col() +
theme_jantau +
scale_x_continuous(breaks = c(1:23)) +
geom_label(aes(x = day, y = performance_loss, label = paste0(round(performance_loss, 2), " %")))
ggplot(data_6, aes(x = day, y = performance_loss)) +
geom_col() +
theme_jantau +
scale_x_continuous(breaks = c(1:23)) +
scale_y_continuous(labels = scales::percent) +
geom_label(aes(x = day, y = performance_loss, label = paste0(round(performance_loss, 2), " %")))
data_6 <- data_4 %>%
arrange(-portfolio) %>%
mutate(absolute =  portfolio - first(portfolio)) %>%
mutate(perc = (1-first(portfolio)/portfolio) * 100) %>%
mutate(saving = 138000) %>%
mutate(performance_perc = (portfolio / saving - 1)) %>%
mutate(performance_loss = performance_perc - first(performance_perc))
ggplot(data_6, aes(x = day, y = performance_loss)) +
geom_col() +
theme_jantau +
scale_x_continuous(breaks = c(1:23)) +
scale_y_continuous(labels = scales::percent) +
geom_label(aes(x = day, y = performance_loss, label = paste0(round(performance_loss, 2), " %")))
data_6 <- data_4 %>%
arrange(-portfolio) %>%
mutate(absolute =  portfolio - first(portfolio)) %>%
mutate(perc = (1-first(portfolio)/portfolio) * 100) %>%
mutate(saving = 138000) %>%
mutate(performance_perc = (portfolio / saving - 1) * 100) %>%
mutate(performance_loss = performance_perc - first(performance_perc))
ggplot(data_6, aes(x = day, y = performance_loss)) +
geom_col() +
theme_jantau +
scale_x_continuous(breaks = c(1:23)) +
scale_y_continuous(labels = dollar_format(
big.mark = " ",
decimal.mark = ",",
suffix = " %",
prefix = ""
)) +
geom_label(aes(x = day, y = performance_loss, label = paste0(round(performance_loss, 2), " %")))
ggplot(data_6, aes(x = day, y = performance_loss)) +
geom_col() +
theme_jantau +
scale_x_continuous(breaks = c(1:23)) +
scale_y_continuous(breaks = seq(1, 23, 1),
labels = dollar_format(
big.mark = " ",
decimal.mark = ",",
suffix = " %",
prefix = ""
)) +
geom_label(aes(x = day, y = performance_loss, label = paste0(round(performance_loss, 2), " %")))
ggplot(data_6, aes(x = day, y = performance_loss)) +
geom_col() +
theme_jantau +
theme(panel.grid.minor = element_line(colour="grey", size=0.5))+
scale_x_continuous(breaks = c(1:23), breaks = seq(1, 23, 1)) +
scale_y_continuous(labels = dollar_format(
big.mark = " ",
decimal.mark = ",",
suffix = " %",
prefix = ""
)) +
geom_label(aes(x = day, y = performance_loss, label = paste0(round(performance_loss, 2), " %")))
ggplot(data_6, aes(x = day, y = performance_loss)) +
geom_col() +
theme_jantau +
theme(panel.grid.minor = element_line(colour="grey", size=0.5)) +
scale_x_continuous(breaks = c(1:23)) +
scale_y_continuous(labels = dollar_format(
big.mark = " ",
decimal.mark = ",",
suffix = " %",
prefix = ""
)) +
geom_label(aes(x = day, y = performance_loss, label = paste0(round(performance_loss, 2), " %")))
ggplot(data_6, aes(x = day, y = performance_loss)) +
geom_col() +
theme_jantau +
scale_x_continuous(breaks = c(1:23)) +
scale_y_continuous(labels = dollar_format(
big.mark = " ",
decimal.mark = ",",
suffix = " %",
prefix = ""
)) +
geom_label(aes(x = day, y = performance_loss, label = paste0(round(performance_loss, 2), " %")))
ggplot(data_6, aes(x = day, y = performance_loss)) +
geom_col() +
theme_jantau +
scale_x_continuous(breaks = c(1:23)) +
scale_y_continuous(labels = dollar_format(
big.mark = " ",
decimal.mark = ",",
suffix = " %",
prefix = ""
)) +
geom_label(aes(x = day, y = performance_loss, label = paste0(round(performance_loss, 2), " %")),
size = 0.8)
ggplot(data_6, aes(x = day, y = performance_loss)) +
geom_col() +
theme_jantau +
scale_x_continuous(breaks = c(1:23)) +
scale_y_continuous(labels = dollar_format(
big.mark = " ",
decimal.mark = ",",
suffix = " %",
prefix = ""
)) +
geom_label(aes(x = day, y = performance_loss, label = paste0(round(performance_loss, 2), " %")),
size = 1)
ggplot(data_6, aes(x = day, y = performance_loss)) +
geom_col() +
theme_jantau +
scale_x_continuous(breaks = c(1:23)) +
scale_y_continuous(labels = dollar_format(
big.mark = " ",
decimal.mark = ",",
suffix = " %",
prefix = ""
)) +
geom_label(aes(x = day, y = performance_loss, label = paste0(round(performance_loss, 2), " %")),
size = 5)
ggplot(data_6, aes(x = day, y = performance_loss)) +
geom_col() +
theme_jantau +
scale_x_continuous(breaks = c(1:23)) +
scale_y_continuous(labels = dollar_format(
big.mark = " ",
decimal.mark = ",",
suffix = " %",
prefix = ""
)) +
geom_label(aes(x = day, y = performance_loss, label = paste0(round(performance_loss, 2), " %")),
size = 2)
ggplot(data_6, aes(x = day, y = performance_loss)) +
geom_col() +
theme_jantau +
scale_x_continuous(breaks = c(1:23)) +
scale_y_continuous(labels = dollar_format(
big.mark = " ",
decimal.mark = ",",
suffix = " %",
prefix = ""
)) +
geom_label(aes(x = day, y = performance_loss, label = paste0(round(performance_loss, 2), " %")),
size = 3)
ggplot(data_6, aes(x = day, y = performance_loss)) +
geom_col() +
theme_jantau +
scale_x_continuous(breaks = c(1:23)) +
scale_y_continuous(labels = dollar_format(
big.mark = " ",
decimal.mark = ",",
suffix = " %",
prefix = ""
)) +
geom_label_repel(aes(x = day, y = performance_loss, label = paste0(round(performance_loss, 2), " %")),
size = 3)
ggplot(data_6, aes(x = day, y = performance_loss)) +
geom_col() +
theme_jantau +
scale_x_continuous(breaks = c(1:23)) +
scale_y_continuous(labels = dollar_format(
big.mark = " ",
decimal.mark = ",",
suffix = " %",
prefix = ""
)) +
geom_label(aes(x = day, y = performance_loss, label = paste0(round(performance_loss, 2), " %")),
size = 3)
ggplot(data_6, aes(x = day, y = performance_loss)) +
geom_col() +
theme_jantau +
scale_x_continuous(breaks = c(1:23)) +
scale_y_continuous(labels = dollar_format(
big.mark = " ",
decimal.mark = ",",
suffix = " %",
prefix = ""
)) +
geom_label(aes(x = day, y = performance_loss, label = paste0(round(performance_loss, 2), " %")),
size = 3, alpha = 0.8)
